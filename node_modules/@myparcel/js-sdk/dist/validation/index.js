"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;

var _ajv = _interopRequireDefault(require("ajv"));

var _uberJsonSchemaFilter = _interopRequireDefault(require("uber-json-schema-filter"));

var _shared = _interopRequireDefault(require("../schema/shared"));

var ajv = new _ajv.default({
  schemas: [_shared.default],
  coerceTypes: true,
  useDefaults: true
});

function clean(schema, data) {
  ajv.validate(schema, data);
  return (0, _uberJsonSchemaFilter.default)(schema, data);
}